<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>MAVProxy - Modules</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>MAVProxy</h1>
          <h2>A UAV ground station software package for MAVLink based systems</h2>
        </header>

        <hr>

        <section id="main_content">
          <h2>
<a name="ContentModules" class="anchor" href="#ContentModules"><span class="octicon octicon-link"></span></a>Modules</h2>
          <p>MAVProxy can be extended with modules. These run in parallel threads to the main MAVProxy program in order to maintain overall stability.</p>
          <p>Modules can include such things as GUI elements and diagnostic and monitoring applications.</p>
          <h4>Module Management</h4>
          <p>Modules need to be loaded before they can be used. The following command can be used:</p>
          <p><code>module load modulename</code></p>
          
          <p>Other management commands for unloading, reloading and listing currently loaded modules include:</p>
          <p><code>module unload modulename</br>
          module reload modulename</br>
          module list</code></p>
          
          <h3>Default Modules</h3>
          <p>MAVProxy comes with several modules by default. The following list only describes modules that do not have their own dedicated page in the documentation.</p>
          
          <h4>console</h4>
          <p>A GUI console that displays important information to the UAV's current state. The area below the menu bar shows on the upper row (left to right): Flight mode and arming state, GPS status, system voltage, telemetry radio link quality, inertial system availability, magnetometer availability, airspeed sensor availability, Sonar/Lidar availability, Attitude control system(AHRS and EKF) state, geofence status and terrain dataset availibility. The second row shows further details of the telemetry link quality. The third and fourth rows show selected sensor readings.</p>

          <p>The menu bar allows the user to change any of the global MAVProxy settings, as well as shortcuts to command waypoint, rally point and geofence commands.</p>
          
          <a href="images/console.png" class="media" title="console.png"><img src="images/console.png" class="media" alt="" /></a>
          
          <h4>map</h4>
          <p>A moving map display that shows the UAV's current position, waypoints and geofence.</p>
          <p>Maps are automatically downloaded and cached to the user's hard drive. The module will use these files if an internet connection is not found.</p>
          <p>To display the waypoints and geofence, the <code>wp list</code> and <code>fence list</code> commands can be used.</p>
          <p>Waypoint editing is allowing by right-clicking to select  waypoint and then right clicking to move it to that point.</p>
          <p>To draw a set of waypoints, use the <code>wp draw</code> command. Right click on the map for the desired waypoints. When finished, use the <code>wp loop</code> to connect the last waypoint to the first one, creating a loop.</p>
          <p>Use the "g" key to specify a position to move the map to.</p>
          
          <a href="images/map.png" class="media" title="map.png"><img src="images/map.png" class="media" alt="" /></a>
          
          <h4>graph</h4>
          <p>A module to plot (graph) data in realtime from the UAV. It is useful for looking for time-varying patterns in the data</p>
          <p>After loading, new plots can be created by:</p>
          <p><code>graph add dataname</code></p>
          <p>Multiple items can be added at once. Use the <code>:2</code> to specify using the right vertical axis.</p>
          <p><code>graph add VFR_HUD.alt VFR_HUD.airspeed:2</code></p>
          <p>Arbitrary mathematical functions can also be used.</p>
          <p><code>graph add "(VFR_HUD.alt/1000.0)+5"</code></p>

          <h4>antenna</h4>
          <p>By specifying the ground station location, this module will output (via text and speech) the relevant azimuth and elevation angles to point at the UAV throughout it's flight. This is useful for a manually pointed antenna.</p>
          <p><code>module load antenna [lat] [long]</code></p>

          <h4>auxopt</h4>
          <p>Allows the user to change the action mapped to RC channels 7 and 8 on APM:Copter.</p>
          <p>Use <code>auxopt list</code> and <code>auxopt show</code> to show a list of available actions for the RC channels and their current setting respectively.</p>
          <p>Use <code>auxopt set [ch] [action]</code> and <code>auxopt reset</code> to set and reset the action mapped to the RC channels respectively.</p>

          <h4>cameraview</h4>
          <p>Adds a layer to the map showing the area in view of a belly-mounted camera, accounting for the current roll and pitch of the UAV. It also provides the data for geotagging captured images.</p>
          <p>This module requires the cuav library (available via pypi) for integration with the camera hardware.</p>

          <h4>DGPS</h4>
          <p>Provides a method to supply DGPS data up to the UAV. The ground station segment of the DGPS system is required to be networked with the ground station running MAVProxy. It is assumed that the DGPS data comes in on the address 127.0.0.1:13320.</p>

          <h4>HIL</h4>
          <p>Provides a Hardware-In-the-Loop interface to an APM running HIL code. It is to be used in conjunction with the Tools/autotest/jsbsim/runsim.py file in the APM source code, which provides a flight dynamics simulator (JSBSim).</p>
          <p>It is used for testing modifictions to the APM code in a simulated environment.</p>

          <h4>log</h4>
          <p>Allows the user to manage the logs on an APM. Use <code>log list</code> to view a list of the logs on the APM and <code>log erase</code> to delete all logs on the APM.</p>

          <p>Use <code>log download [lognumber] [filename]</code> to start to download a specific log to the specified file name. <code>log status</code> to see the transfer status and <code>log cancel</code> to cancel the download.</p>

          <h4>relay</h4>
          <p>Control the operation of the output servos. Note this should only be used for the non-flight-control servos. An example of usage would be camera shutter controls. Use <code>servo set [SERVO_NUM] [PWM]</code> to set an output servo to a particular PWM value. Use <code>servo repeat [SERVO_NUM] [PWM] [COUNT] [PERIOD]</code> to make the servo repeat between it's current and specified PWM values.</p>

          <p>If relay controls are available, the <code>relay set [RELAY_NUM] [0|1]</code> to set a particular relay to 0 or 1. Similar to the servos, use <code>relay repeat [RELAY_NUM] [COUNT] [PERIOD]</code> to setup a repeating relay.</p>

          <h4>sensors</h4>
          <p>Provides regular reporting to the console of the UAV's current speed, altitude and heading. It also reports any variances or disagreement between the sensors.</p>

          <h4>serial</h4>
          <p>Allows transmission of data packets through the serial ports on the APM via MAVProxy (ie. remote control of the serial ports). Use <code>serial lock</code> and <code>serial unlock</code> to give (or release) exclusive control of the serial ports.</p>
          <p>To change to serial port settings use <code>serial set [setting] [value]</code>, where setting can be port, baudrate or timeout. To send data, enter <code>serial send [data]</code>. Note that data from these serial ports cannot currently be received.</p>

          <h4>speech</h4>
          <p>Activates the text-to-speech function. It will "say" any important annoucements throughout the flight.</p>

          <h4>tracker</h4>
          <p>This is an improved antenna tracker, where the APM is mounted on an antenna tracker (with a GPS module) which in turn is connected to the ground station. Using the positions of the APM on the UAV and the APM on the antenna, this module will send commands to the antenna APM to alter it's azimuth/elevation (via servos on the APM) to maintain tracking with the UAV.</p>
          <p>Use <code>tracker arm</code> and <code>tracker disarm</code> to arm and disarm the servos on the tracker respectively.</p>
          <p><code>tracker level</code> will perform the level calibration routine and <code>tracker calpress</code> will calibrate the barometer, so that air pressure corrections can be sent back to the UAV (for a more accurate altitude estimation).</p>
          <p><code>tracker start</code> will start the tracking.</p>
          <p>There are several parameters for the tracker, to specify the serial port that the antenna tracker APM is on. Use <code>tracker param [set|show|fetch|help]</code> to manage the parameters. There are three parameters - port, baud and debug.</p>

          <h4>tuneopt</h4>
          <p>This module manages the action mapped to channel 6. It is used for multicopters only. Use <code>tuneopt [set|show|reset|list]</code> to manage the mapped action. For the <code>set</code> command, use the format <code>tuneopt set [OPTION] [LOW] [HIGH]</code> to map a tuning action and it's range of values.</p>

          <h4>misseditor</h4>
          <p>This module is a GUI waypoint editor. It is useful for reading, loading and editing waypoints.</p>
          <a href="images/missedit.png" class="media" title="missedit.png"><img src="images/missedit.png" class="media" alt="" /></a>
          
        </section>

        <footer>
          MAVProxy is maintained by <a href="https://github.com/tridge">Andrew Tridgell</a> and documentation is by <a href="https://github.com/stephendade">Stephen Dade</a><br>
          This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

        
      </div>
    </div>
  </body>
</html>
